(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"2TGF":function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return d}));var n=t("o0o1"),r=t.n(n),c=t("ODXe"),l=t("q1tI"),u=t.n(l),s=t("80PL"),o=t("q9vl"),p=t("LYgV"),i=t.n(p),_=t("ma3e"),f=u.a.createElement;function d(){return f(s.a,null,f(b,null))}function b(){var e=Object(o.b)(),a=Object(c.a)(e,2),t=a[0],n=a[1],u=Object(l.useState)({}),s=u[0],p=u[1],d=Object(l.useState)(null),b=d[0],m=d[1];Object(l.useEffect)((function(){t.users[t.active]&&function(){var e;r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(n.get("/place/here"));case 2:e=a.sent,p(e.data);case 4:case"end":return a.stop()}}),null,null,null,Promise)}()}),[t.active,b]);var h=s.pathTo||[];function w(e,a){var c,l;return r.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(t.users[t.active]){u.next=2;break}return u.abrupt("return");case 2:return u.prev=2,u.next=5,r.a.awrap(n.get("/place/travel/".concat(e)));case 5:c=u.sent,m(a),u.next=16;break;case 9:if(u.prev=9,u.t0=u.catch(2),!u.t0.response||403!==u.t0.response.status){u.next=15;break}return(l=u.t0.response.data).sendTo&&m(l.sendTo),u.abrupt("return",u.t0.response.data);case 15:m(null);case 16:return u.abrupt("return",c.data);case 17:case"end":return u.stop()}}),null,null,[[2,9]],Promise)}return h=h.concat((s.pathFrom||[]).filter((function(e){return!0===e.path.twoWay}))),f("div",{className:i.a.place},f("h1",null,s.name),f("p",null,s.description),f("div",{className:i.a.pathList},f("b",null,f(_.i,{size:"1em"})," Paths:"),f("div",null,h.map((function(e,a){return f(v,{key:e.path.id,target:e,nav:w})})))))}function v(e){var a=e.target,t=Object(l.useRef)(),n=Object(l.useState)(null),c=n[0],s=n[1];return f("div",{className:i.a.pathEntry,onClick:function(){var n;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,r.a.awrap(e.nav(a.path.id,a.id));case 2:if("travel allowed:"!==(n=c.sent)){c.next=6;break}return s(!1),c.abrupt("return");case 6:(n.veteran||n.gnome||n.stuck)&&(t.current.classList.remove(i.a.wrong),t.current.offsetWidth,t.current.classList.add(i.a.wrong),n.stuck&&s(f(u.a.Fragment,null,"Stuck!",f("br",null),f(m,{time:n.stuck.free}))),n.gnome&&s("No Gnomes!"),n.veteran&&s("only Veterans!"));case 8:case"end":return c.stop()}}),null,null,null,Promise)},"data-expanded":e.disabled,ref:t},f("p",null,f("b",null,a.path.name||"Path")," ",f("span",null,"to"),f("br",null),f("i",null,a.name)),f("p",{className:i.a.blocked},c&&f(u.a.Fragment,null,f(_.p,null)," ",c)))}function m(e){var a=Object(l.useState)(new Date(e.time)-new Date),t=a[0],n=a[1];Object(l.useEffect)((function(){var a=setInterval((function(){var t=new Date(e.time)-new Date;t>0?n(t):clearInterval(a)}),1e3);return function(){clearInterval(a)}}),[]);var r=Math.floor(t/6e4);t-=6e4*r;var c=Math.floor(t/1e3);return f("span",null,r,":",c)}},LYgV:function(e,a,t){e.exports={card:"place_card__2C6YO",animCard:"place_animCard__3WGbI",pathEntry:"place_pathEntry__3P6LH",fallbackImg:"place_fallbackImg__SfMy5",cardEntrance:"place_cardEntrance__1ZcYY",entering:"place_entering__jgX3y",cardboardEntrance:"place_cardboardEntrance__3_cpc",list:"place_list__3qVaQ",place:"place_place__1OHIf",fabulous:"place_fabulous__1Lc6o",scroll:"place_scroll__2OgJ-",centerAbsolute:"place_centerAbsolute__LMNbu",wrong:"place_wrong__16kIW",redflash:"place_redflash__36Ksr",blocked:"place_blocked__75ycY",pathList:"place_pathList__U04D7"}},yxmD:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/places",function(){return t("2TGF")}])}},[["yxmD",0,1,3,6,4,2,5,7,8,9,10]]]);