(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[942],{4847:function(e,t,n){"use strict";var r,o=n(7294);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",i({width:379.54,height:359.856,viewBox:"0 0 100.42 95.212",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("g",{strokeLinejoin:"round",fill:"currentColor",stroke:"currentColor"},o.createElement("path",{strokeDashoffset:21.12,strokeLinecap:"square",strokeWidth:17.727,d:"M8.86 8.864h82.693v52.011H8.86z"}),o.createElement("path",{d:"M8.86 60.871v33.676L91.553 8.86 8.86 60.871",strokeWidth:1.323}))))}},2389:function(e,t,n){"use strict";n.d(t,{V:function(){return h}});var r=n(4051),o=n.n(r),i=n(5893),a=n(9583),s=n(344);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,s,"next",e)}function s(e){u(i,r,o,a,s,"throw",e)}a(void 0)}))}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=n(7294),p=f.useState,m=f.useEffect;function h(e){var t=d(p(!1),2),n=t[0],r=t[1];function c(){return(c=l(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onClick();case 2:t.sent&&r(setTimeout((function(){return r(!1)}),5e3));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return m((function(){return function(){clearTimeout(n)}}),[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.hP,{leftIcon:e.leftIcon,text:n?"Copied!":e.text,onClick:function(){return c.apply(this,arguments)},rightIcon:n&&(0,i.jsx)(a.l_A,{})})})}},6237:function(e,t,n){"use strict";n.d(t,{S:function(){return ae}});var r=n(4051),o=n.n(r),i=n(5893),a=n(7294),s=n(4847),c=n(4260),u=n(9259),l=n(6812),d=n.n(l),f=n(9669),p=n.n(f),m=n(6301);function h(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function v(e){var t=(0,a.useState)(["not epic"]),n=t[0],r=t[1];return(0,a.useEffect)((function(){if(e[0]){var t=e.map((function(e){return(t=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p().get(m.J+"/comment/"+e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",{});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){h(i,r,o,a,s,"next",e)}function s(e){h(i,r,o,a,s,"throw",e)}a(void 0)}))})();var t}));Promise.all(t).then((function(e){r(e.map((function(e){return e.data})).filter((function(e){return e&&e.level>0})))})).catch()}}),[e]),[n,r]}var _=n(2389),y=n(9583),x=n(8546),g=n(985);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){j(i,r,o,a,s,"next",e)}function s(e){j(i,r,o,a,s,"throw",e)}a(void 0)}))}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=n(5434),E=n(344),C=n(5193);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){L(i,r,o,a,s,"next",e)}function s(e){L(i,r,o,a,s,"throw",e)}a(void 0)}))}}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){for(var t=function(){f(!0),j.removeMenu()},n=function(){h(!0),j.removeMenu()},r=e.comment,s=(0,a.useState)(!1),l=s[0],f=s[1],p=(0,a.useState)(!1),m=p[0],h=p[1],v=(0,a.useState)(!1),b=v[0],j=(v[1],(0,a.useContext)(x.X)),A=P((0,g.j)(),2),L=A[0],I=A[1],M=P(function(e){var t=(0,a.useState)(e.comments_hidden?"hidden":e.comments_locked?"locked":void 0),n=t[0],r=t[1],i=k((0,g.j)(),2),s=(i[0],i[1]);function c(){return(c=w(o().mark((function t(n,i){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.put("/entity/".concat(e.id),{comments_locked:"boolean"===typeof n?String(n):void 0,comments_hidden:"boolean"===typeof i?String(i):void 0});case 2:if(!0!==(a=t.sent).data.comments_hidden){t.next=8;break}return r("hidden"),t.abrupt("return","hidden");case 8:if(!0!==a.data.comments_locked){t.next=13;break}return r("locked"),t.abrupt("return","locked");case 13:return r("e"),t.abrupt("return","e");case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return console.log(e),[n,function(e,t){return c.apply(this,arguments)}]}(r.entity),2),T=M[0],B=M[1],F=[],W=0;W<r.level;W++)F.push((0,i.jsx)(D,{"data-state":r.hidden_lvl&&r.hidden_lvl.includes(W)?"hidden":r.locked_lvl&&r.locked_lvl.includes(W)?"locked":void 0},W));console.log(r);var z=(0,i.jsx)("div",{className:d().comStateInd,"data-state":T,style:{display:"inline-block",marginLeft:"1em"},children:"hidden"===T?(0,i.jsxs)(i.Fragment,{children:[" Hidden ",(0,i.jsx)(y.tgn,{})]}):"locked"===T?(0,i.jsxs)(i.Fragment,{children:[" Locked ",(0,i.jsx)(y.kUi,{})]}):void 0});return l?(0,i.jsxs)("div",{className:d().commentWrap,children:[(0,i.jsx)("div",{className:d().indents,children:F}),(0,i.jsx)("div",{className:d().comment,children:(0,i.jsx)(C.s,{comment:r.entity.id,cta:"Edit!",edit:!0,text:r.text,onEdit:function(){var t=O(o().mark((function t(n,i){var a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=2;break}return t.abrupt("return",f(!1));case 2:return t.prev=2,t.next=5,I.put("/comment/".concat(r.entity.id),{text:n});case 5:a=t.sent,t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return",!1);case 12:return e.onEdit(N({},r,a.data,{text:n})),f(!1),t.abrupt("return",!0);case 15:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e,n){return t.apply(this,arguments)}}()})})]}):!r.author&&"~d~"===r.text||"~r~"===r.text?(0,i.jsxs)("div",{className:d().commentWrap,children:[(0,i.jsx)("div",{className:d().indents,children:F}),(0,i.jsxs)("div",{className:d().comment,children:[(0,i.jsx)("div",{className:d().indentVote,children:(0,i.jsx)(D,{"data-state":T})}),(0,i.jsxs)("div",{className:d().content,children:[(0,i.jsx)("div",{children:(0,i.jsxs)("p",{className:d().author,children:[(0,i.jsx)(u.E,{time:r.createdAt,edit:r.updatedAt,compact:!0})," ",z]})}),(0,i.jsx)("div",{className:d().body,children:(0,i.jsxs)("p",{style:{color:"grey"},children:["COMMENT ","~d~"===r.text?"\u274cDELETED\u274c":"\ud83d\udd25REMOVED\ud83d\udd25"]})})]})]})]}):(0,i.jsxs)("div",{className:d().commentWrap,onContextMenu:function(a){if(b||l)return!1;a.preventDefault();var s=[(0,i.jsx)(_.V,{text:"Copy markdown",leftIcon:(0,i.jsx)(y.esY,{}),onClick:O(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(r.text);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))})];if("number"!==typeof L.active||!L.users[L.active])return j.openMenu(a.pageX,a.pageY,s);if(0===r.locked_lvl.length&&(s=[(0,i.jsx)(E.hP,{text:"Reply",onClick:n,leftIcon:(0,i.jsx)(y.Bjt,{})})].concat(s)),r.author&&L.users[L.active].username===r.author.username&&e.onEdit&&s.push((0,i.jsx)(E.hP,{text:"Edit",onClick:t,leftIcon:(0,i.jsx)(S.zmo,{})})),L.users[L.active].moderator){var c="locked"===T||"hidden"===T,u="hidden"===T;s.push((0,i.jsxs)(E.hP,{text:"Comments",warn:!0,leftIcon:(0,i.jsx)(y.llv,{}),children:[(0,i.jsx)(E.hP,{text:c?"Unlock":"Lock",leftIcon:c?(0,i.jsx)(y.jcU,{}):(0,i.jsx)(y.kUi,{}),warn:!0,onClick:O(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(!c);case 2:n=t.sent,j.removeMenu(),e.onComStateChange&&e.onComStateChange(n);case 5:case"end":return t.stop()}}),t)})))}),(0,i.jsx)(E.hP,{text:u?"Show":"Hide",leftIcon:u?(0,i.jsx)(y.dSq,{}):(0,i.jsx)(y.tgn,{}),warn:!0,onClick:O(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(void 0,!u);case 2:n=t.sent,j.removeMenu(),e.onComStateChange&&e.onComStateChange(n);case 5:case"end":return t.stop()}}),t)})))})]}))}j.openMenu(a.pageX,a.pageY,s)},children:[(0,i.jsx)("div",{className:d().indents,children:F}),(0,i.jsxs)("div",{className:d().comment,children:[(0,i.jsxs)("div",{className:d().indentVote,children:[(0,i.jsx)(c.A,{up:r.entity.upvotes,down:r.entity.downvotes,small:!0,id:r.entity.id}),(0,i.jsx)(D,{"data-state":T})]}),(0,i.jsxs)("div",{className:d().content,children:[(0,i.jsx)("div",{children:(0,i.jsxs)("p",{className:d().author,children:["posted by ",(0,i.jsx)("span",{children:r.author?r.author.username:"\u274cDELETED\u274c"})," ",(0,i.jsx)(u.E,{time:r.createdAt,edit:r.updatedAt,compact:!0})," ",z]})}),(0,i.jsxs)("div",{className:d().body,children:[(0,i.jsx)("p",{children:r.text}),m&&(0,i.jsx)(C.s,{comment:r.entity.id,cta:"Reply!",edit:!0,onEdit:function(){var t=O(o().mark((function t(n,i){var a,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=2;break}return t.abrupt("return",h(!1));case 2:return a=L.users[L.active],t.prev=3,t.next=6,I.post("/comment/".concat(r.entity.id),{text:n});case 6:s=t.sent,t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(3),console.error(t.t0),t.abrupt("return",!1);case 13:return console.log("res",s),e.onReply(N({},r,s.data,{entity:{id:s.data.id,comments_locked:!1,comments_hidden:!1,placeId:null,upvotes:null,downvotes:null},author:{username:a.username,id:s.data.authorId,clearname:a.username,avatarUrl:a.avatarUrl}})),h(!1),t.abrupt("return",!0);case 17:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,n){return t.apply(this,arguments)}}()})]})]})]})]})}function D(e){return(0,i.jsx)("div",N({className:d().threadindent},e))}var T=n(5989),B=n(5164),F=n(5946),W=n.n(F);function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){H(e,t,n[t])}))}return e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function G(e){var t=function(e,t){if(e.firstChild){var n=e.firstChild.offsetHeight;console.log(e.firstChild),console.log(n),f(n)}},n=R(function(e,t){var n=(0,a.useState)([]),r=n[0],o=n[1];return(0,a.useEffect)((function(){e&&p().get(m.J+"/entity/"+t+"/comments").then((function(e){o(e.data.map((function(e){return e.id})))})).catch()}),[e,t]),[r,o]}(e.open,e.id),2),r=n[0],o=n[1],s=R(v(r),2),c=s[0],u=s[1],l=(0,a.useState)(null),d=l[0],f=l[1],h=void 0,_=c.map((function(e,t){return"not epic"===e?(h="wait",(0,i.jsx)("p",{children:"Loading..."},0)):(h="cs",(0,i.jsx)(M,{comment:e,onEdit:function(e){u((function(n){var r=U(n);return r[t]=e,r}))},onReply:function(e){u((function(n){var r=U(n);return r.slice(0,t+1).concat(e,r.slice(t+1))}))},onComStateChange:function(t){u((function(n){return U(n).map((function(n){if(n.lft>e.lft&&n.rgt<e.rgt){var r=V({},n);return"hidden"===t?r.hidden_lvl.includes(e.level)||r.hidden_lvl.push(e.level):"locked"===t?(r.hidden_lvl=r.hidden_lvl.filter((function(t){return t!=e.level})),r.locked_lvl.includes(e.level)||r.locked_lvl.push(e.level)):(r.hidden_lvl=r.hidden_lvl.filter((function(t){return t!=e.level})),r.locked_lvl=r.locked_lvl.filter((function(t){return t!=e.level}))),r}return n}))}))}},e.entityId))}));return c[0]||(h="no",_=[(0,i.jsx)("p",{children:"There are no Comments"},0)]),e.open||(h="hurensohn nein",_=[(0,i.jsx)(i.Fragment,{})]),(0,i.jsx)(T.Z,{mode:"out-in",children:(0,i.jsx)(B.Z,{timeout:300,classNames:V({},W()),component:"div",onEnter:t,onExit:t,style:{"--height":d+"px"},children:e.open?(0,i.jsx)("div",{className:W().commentSectionWrap,children:(0,i.jsxs)("div",{className:W().commentSection,children:[(0,i.jsx)(C.s,{comment:e.id,rerender:function(e){console.log("YOO "+e),e&&o((function(t){return[e].concat(U(t))}))},locked:e.entity.comments_locked}),_]})}):(0,i.jsx)("div",{})},h)},"l")}var q=n(9410),X=n.n(q),Y=n(106),K=n(3990),Z=n(460),$=n(4937),Q={"post deleted":["Ehh, changed my mind","Wait.. Nah.","Wait this isn't google?","Oops. Ahhh","*Instant regret*","*Shyly retreats*","Should've thought before speaking i guess","Didn't think anyone would actually see this \ud83d\ude33"],"post removed":["This post was __removed__ by Moderators","This post was too __BAD__ for this world","This post tripped over a dog and broke it's neck. F.","<Cringe Content Censored>","~~Post redacted by the Chinese Gvt.~~","Moderators are sheltering you from this god-awful Post","RIP Post, noone will miss you\n\n*-A Moderator*","*Only scorched earth and rising smoke indicate that this was once a post*","Keep moving. Nothing to see here.","This post has suffered police brutality \ud83d\ude14","NUKED! AHAHAHAHAH!","In Germany we say: 'Unversch\xe4mtheit'","In GErmany we say: 'Machn kopp zu'"],frederick:["You've reached the End, my dear.","There is nothing else beyond the horizon.","There is always an end.","Don't you have anything better to do?","Silence at the bottom of the ocean.","Frederick questions your choices..."]};function ee(e){return Q[e][Math.floor(Math.random()*Q[e].length)]}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ne(i,r,o,a,s,"next",e)}function s(e){ne(i,r,o,a,s,"throw",e)}a(void 0)}))}}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ie=(0,Y.Z)({anchor:!1,embeds:!0,supressHeadings:!0});console.log(d().postScronch);var ae=function(e){var t=function(){var e=document.body.getBoundingClientRect(),t=T.current.getBoundingClientRect().top-e.top;T.current.clientHeight>350&&c&&t<window.scrollY&&!L&&(T.current.scrollIntoView(),window.scrollBy(0,-120))},n=function(){b(!0),m.current.toggleModal()},r=e.post,s=(0,a.useState)(!1),c=s[0],u=s[1],l=(0,a.useState)(!1),f=l[0],p=l[1],m=(0,a.useRef)(),h=(0,a.useState)(!1),v=h[0],b=h[1],j=(0,a.useContext)(x.X),w=oe((0,g.j)(),2),k=w[0],A=w[1],L=e.embed,O=(0,a.useState)(!1),I=O[0],N=O[1],P=(0,a.useState)(r.entity.comments_hidden?"hidden":r.entity.comments_locked?"locked":void 0),M=P[0],D=P[1];switch((0,a.useEffect)((function(){r.entity.comments_hidden?D("hidden"):r.entity.comments_locked?D("locked"):D("e")}),[r.entity.comments_locked,r.entity.comments_hidden]),M){case"locked":r.entity.comments_hidden=!1,r.entity.comments_locked=!0;break;case"hidden":r.entity.comments_hidden=!0;break;default:r.entity.comments_hidden=!1,r.entity.comments_locked=!1}var T=(0,a.useRef)();function B(e,t){return F.apply(this,arguments)}function F(){return(F=re(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A.put("/entity/".concat(r.entity.id),{comments_locked:"boolean"===typeof t?String(t):void 0,comments_hidden:"boolean"===typeof n?String(n):void 0}).then((function(e){j.removeMenu(),u(!1),!0===e.data.comments_hidden?D("hidden"):!0===e.data.comments_locked?D("locked"):D("e")}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return z.apply(this,arguments)}function z(){return(z=re(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("edit post"),j.removeMenu(),N(!0),t();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=re(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b(!1),A.delete("/post/".concat(r.entity.id)).then(re(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("scronch post"),j.removeMenu(),u(!1),p(!0),t(),n.next=7,ce(2e3);case 7:e.rerenderFunc();case 8:case"end":return n.stop()}}),n)})))).catch((function(){j.removeMenu()}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function V(){return(V=re(o().mark((function t(n,i){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=2;break}return t.abrupt("return",N(!1));case 2:t.prev=2,A.put("/post/".concat(r.entity.id),{text:n}),t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(2),t.abrupt("return",!1);case 9:return N(!1),e.rerenderFunc(r.entity.id),t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,null,[[2,6]])})))).apply(this,arguments)}return e.rerender===r.entity.id&&t(),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)($.s,{onConfirm:function(){return H.apply(this,arguments)},onCancel:function(){b(!1)},ref:m,text:"Delete this post?"}),(0,i.jsxs)("div",{style:{zIndex:v?6:void 0},className:"".concat(d().postWrapper," ").concat(f&&!c&&d().postScronch),children:[(0,i.jsx)("div",{className:"".concat(d().post),ref:T,onClick:function(){r.entity.comments_hidden&&(T.current.classList.remove(d().wrong),T.current.offsetWidth,T.current.classList.add(d().wrong)),f||I||u(!c),I||t()},onContextMenu:function(e){if(f||I)return!1;e.preventDefault();var t=[(0,i.jsx)(_.V,{text:"Embed",leftIcon:(0,i.jsx)(K.BA4,{}),onClick:re(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText('<iframe src="https://drkslv.github.io/discussion/embed/post?id='.concat(r.entity.id,'" width="700px" height="500px" frameborder="0"></iframe>'));case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))}),(0,i.jsx)(_.V,{text:"Copy markdown",leftIcon:(0,i.jsx)(y.esY,{}),onClick:re(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(r.text);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))})];if("number"!==typeof k.active||!k.users[k.active])return j.openMenu(e.pageX,e.pageY,t);if(r.author&&k.users[k.active].username===r.author.username&&t.push((0,i.jsx)(E.hP,{text:"Edit",onClick:W,leftIcon:(0,i.jsx)(S.zmo,{})})),(r.author&&k.users[k.active].username===r.author.username||k.users[k.active].moderator)&&t.push((0,i.jsx)(E.hP,{text:"Delete",onClick:n,warn:!0,leftIcon:(0,i.jsx)(y.YS4,{})})),k.users[k.active].moderator){var a=r.entity.comments_locked,s=r.entity.comments_hidden;t.push((0,i.jsxs)(E.hP,{text:"Comments",warn:!0,leftIcon:(0,i.jsx)(y.llv,{}),children:[(0,i.jsx)(E.hP,{text:a?"Unlock":"Lock",leftIcon:a?(0,i.jsx)(y.jcU,{}):(0,i.jsx)(y.kUi,{}),warn:!0,onClick:function(){return B(!a)}}),(0,i.jsx)(E.hP,{text:s?"Show":"Hide",leftIcon:s?(0,i.jsx)(y.dSq,{}):(0,i.jsx)(y.tgn,{}),warn:!0,onClick:function(){return B(void 0,!s)}})]}))}j.openMenu(e.pageX,e.pageY,t)},"data-expanded":c,children:I?(0,i.jsx)(C.s,{title:r.title,text:r.text,cta:"Edit!",edit:!0,onEdit:function(e,t){return V.apply(this,arguments)}}):(0,i.jsx)(se,{post:r,expanded:c})}),r.entity.comments_hidden?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(G,{id:r.entity.id,open:c,entity:r.entity},"cs"+r.entity.id)]})]})};function se(e){var t,n=e.post,r=e.expanded,o=n.text;n.author?t=n.author.avatarUrl:"~d~"===n.text?(t=m.J+"/assets/img/trash.jpg",o=ee("post deleted")):"~r~"===n.text?(t=m.J+"/assets/img/nuke.jpg",o=ee("post removed")):t=m.J+"/assets/img/kill.png";var l=window.screen.width<600,f=null,p=n.entity.votes;p&&p[0]&&(f=p[0].positive);var h,v=(0,a.useRef)();v.current&&(h=.71428571429*v.current.clientHeight-350);var _=(0,a.useState)(!1),x=_[0],g=_[1];return(0,a.useEffect)((function(){g(!r&&v.current.clientHeight>350)}),[v,r]),(0,a.useEffect)((function(){v.current.querySelectorAll("img").forEach((function(e){e.setAttribute("title",e.alt);var t=document.createElement("a");t.className="imageContainer",e.parentNode.replaceChild(t,e),t.appendChild(e),t.href=e.src,t.target="_blank",e.addEventListener("click",(function(e){e.stopPropagation()}))}))}),[v,n.text]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:d().pic,children:(0,i.jsx)(Z.d,{src:t})}),(0,i.jsx)(c.A,{up:n.entity.upvotes,down:n.entity.downvotes,id:n.entity.id,my:f})]}),(0,i.jsxs)("div",{className:d().content,children:[(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:d().head,children:[(0,i.jsxs)("div",{className:d().comments,"data-state":n.entity.comments_hidden?"hidden":n.entity.comments_locked?"locked":void 0,children:[n.entity.comments_hidden?l?(0,i.jsx)(y.tgn,{size:20}):(0,i.jsx)("b",{children:"Closed."}):(0,i.jsxs)(i.Fragment,{children:[(n.entity.comment.rgt-n.entity.comment.lft-1)/2," \u2027 ",n.entity.comments_locked?(0,i.jsxs)(i.Fragment,{children:[" ",l?(0,i.jsx)(y.kUi,{size:15}):(0,i.jsx)("b",{children:"LOCKED"})]}):(0,i.jsx)(i.Fragment,{})]}),(0,i.jsx)(s.Z,{})]}),(0,i.jsxs)("p",{className:d().title,children:[(0,i.jsx)("b",{children:n.title}),(0,i.jsx)("br",{}),(0,i.jsxs)("span",{className:d().author,children:["posted by ",n.author?n.author.username:"\u274cDELETED\u274c"]})]})]})}),(0,i.jsxs)("div",{className:d().body,style:{maxHeight:r?v.current.clientHeight+10:"350px","--expandtime":h+"ms",overflow:"hidden"},children:[(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:ie(o)},className:X().mdPost,ref:v}),x&&(0,i.jsx)("div",{className:d().expandDialogWrapper,children:(0,i.jsx)("div",{className:d().expandDialog,children:"Click to Expand"})})]}),(0,i.jsx)(u.E,{time:n.createdAt,edit:n.updatedAt})]})]})}function ce(e){return new Promise((function(t){setTimeout(t,e)}))}},6942:function(e,t,n){"use strict";n.d(t,{p:function(){return b}});var r,o,i,a,s,c,u=n(5893),l=n(5560),d=n(6237),f=n(3200),p=n.n(f),m=n(7294);n(2389);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var v=function(e){return m.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1248.077 725.617"},e),r||(r=m.createElement("defs",null,m.createElement("filter",{id:"TurtleOptimized_svg__b",y:-.22,colorInterpolationFilters:"sRGB"},m.createElement("feColorMatrix",{values:"10 -2 0 -3 0 0 1 0 0 0 0 0 1 0 0 0 -3 0 1 5",result:"result1"}),m.createElement("feConvolveMatrix",{order:"5 5",kernelMatrix:"100 0 0 0 100 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 -100 0 0 0 0",divisor:0,targetY:0,targetX:0}),m.createElement("feTurbulence",{baseFrequency:.01,stitchTiles:"stitch",result:"turbulenceEpic"}),m.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"result3"}),m.createElement("feBlend",{in2:"result3",result:"result4"}),m.createElement("feBlend",{in2:"result4",result:"result5"}),m.createElement("feFlood",null),m.createElement("feComposite",{operator:"arithmetic",k1:.63,k2:2.79,k3:2,k4:-.09,in2:"SourceGraphic",in:"result5"})),m.createElement("filter",{y:-.1,id:"TurtleOptimized_svg__a",colorInterpolationFilters:"sRGB"},m.createElement("feColorMatrix",{result:"result1",values:"10 -2 0 -3 0 0 1 0 0 0 0 0 1 0 0 0 -3 0 1 5"}),m.createElement("feConvolveMatrix",{targetX:0,targetY:0,divisor:0,kernelMatrix:"100 0 0 0 100 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 -100 0 0 0 0",order:"5 5"}),m.createElement("feTurbulence",{baseFrequency:"0.096000000000000002 0.01",numOctaves:2,type:"fractalNoise",seed:33}),m.createElement("feComposite",{result:"result3",operator:"in",in2:"SourceAlpha"}),m.createElement("feBlend",{result:"result4",in2:"result3"}),m.createElement("feBlend",{result:"result5",in2:"result4"}),m.createElement("feComposite",{in2:"SourceGraphic",k4:-.09,k3:2,k2:2.79,k1:.63,operator:"arithmetic"}),m.createElement("feComponentTransfer",{result:"result6"},m.createElement("feFuncR",{type:"table",tableValues:"1, 0"}),m.createElement("feFuncG",{type:"table",tableValues:"1,0"}),m.createElement("feFuncB",{type:"table",tableValues:"1,0"})),m.createElement("feComposite",{in:"result6",in2:"SourceAlpha",operator:"in"})))),o||(o=m.createElement("path",{d:"M212.8 370.44s-78.07 37.074-125.84 34.579c-47.77-2.496-75.932-7.486-64.88-48.482 0 0 6.416-40.283 33.153-38.5 1.426 0 22.815-5.348 58.464-4.992 1.07.713 9.625 0 9.625 0s44.56.357 74.505 19.607c29.945 19.25 14.973 37.788 14.973 37.788z",fill:"#000001",stroke:"#000",filter:"url(#TurtleOptimized_svg__a)"})),i||(i=m.createElement("path",{d:"M1109.364 298.786s90.904-15.686 135.822-51.69c1.426-.357 27.45-86.627-132.97-72.011 0 .713-33.51-10.338-117.284 33.866 0 1.07-130.474 4.278-130.474 4.278l-636.33 79.853-17.467 53.295 1.515 22.013s-20.066 20.184 369.137 48.416c2.017-1.008 91.711-2.518 155.879-12.5 64.168-9.982 146.873-3.565 146.873-3.565s42.778-2.139 96.251-51.69c53.473-49.552 129.048-50.265 129.048-50.265z",fill:"#404040",stroke:"#000"})),a||(a=m.createElement("path",{d:"M914.555 291.778s-98.309 42.852-233.925 58.48c-.504-.503 3.53 11.596 3.53 11.596s14.116 61.002-56.465 154.774c.504.504-27.224 41.34-133.6 125.533 1.009.504-63.018 53.944 35.29 50.415 1.01 1.008 144.187 18.149 233.422-123.013.504-2.016 86.713-116.458 122.508-167.377 2.016-3.025 32.265-40.836 28.736-102.342-1.008-2.017.504-8.066.504-8.066z",filter:"url(#TurtleOptimized_svg__a)"})),s||(s=m.createElement("path",{d:"M980.316 349.05s38.144-47.412 129.048-50.264c.357-1.07 78.427 68.089 34.58 156.498.712 1.782-29.589 36.005-39.57 12.833.356-.713-13.19-46.7-55.612-74.15.713.714-25.311-29.588-66.307-42.421-.356.356-2.139-2.496-2.139-2.496z",fill:"#020300",stroke:"#000",filter:"url(#TurtleOptimized_svg__a)"})),c||(c=m.createElement("path",{d:"M988.113 207.072l1.717-7.748-2.162-3.76C989.63 187.882 774.613 59.462 575.6 83.602c-2.851 0-222.875-8.728-428.869 172.528-5.704 2.852-30.134 19.381-14.854 66.897 1.426 2.852 35.65 44.917 224.587 32.084 0 1.426 490.526 31.37 616.01-115.502 1.425-5.704 15.639-32.537 15.639-32.537z",fill:"#19142f",stroke:"#000",strokeWidth:7,filter:"url(#TurtleOptimized_svg__b)"})))};function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){var t=function(e){switch(e.target.name){case"del":return o(x({},r,{del:e.target.value,off:0}));case"order":return o(x({},r,{order:e.target.value,off:0}));case"orderDir":return o(x({},r,{oDir:e.target.value,off:0}));case"next":return console.log("click next"),o((function(e){return x({},e,{off:(e.off||0)+10})}));case"prev":return o((function(e){return e.off>9?x({},e,{off:(e.off||0)-10}):e}))}},n=(0,m.useState)({}),r=n[0],o=n[1],i=g((0,l.l)(e.rerender,r),2),a=i[0],s=i[1],c=(0,l.k)(a,e.rerender),f=((0,m.useRef)(),c.map((function(t){return(0,u.jsx)(d.S,{post:t,rerender:e.rerender,rerenderFunc:e.rerenderFunc},t.entity.id)})));return(0,u.jsxs)("div",{className:p().postList,children:[(0,u.jsxs)("div",{className:p().postPicker,children:[(0,u.jsxs)("label",{children:["Deleted:",(0,u.jsxs)("select",{onChange:t,name:"del",children:[(0,u.jsx)("option",{value:"exclude",children:"Hide"}),(0,u.jsx)("option",{value:"exclusive",children:"View"}),(0,u.jsx)("option",{value:"include",children:"Integrate"})]})]}),(0,u.jsxs)("label",{children:["Sort by:",(0,u.jsxs)("select",{onChange:t,name:"order",children:[(0,u.jsx)("option",{value:"time",children:"Date"}),(0,u.jsx)("option",{value:"votes",children:"Voting"}),(0,u.jsx)("option",{value:"comments",children:"Responses"})]}),(0,u.jsxs)("select",{onChange:t,name:"orderDir",defaultValue:"DESC",children:[(0,u.jsx)("option",{value:"ASC",children:"ASC"}),(0,u.jsx)("option",{value:"DESC",children:"DESC"})]})]})]}),f,s?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(v,{className:p().frederick}),(0,u.jsx)("b",{className:p().frederickDialog,children:"FREDERICK QUESTIONS YOUR CHOICES..."})]}):(0,u.jsx)("button",{className:p().loadButton,name:"next",onClick:t,children:"Load More"})]})}},9259:function(e,t,n){"use strict";n.d(t,{E:function(){return c}});var r=n(5893),o=n(381),i=n.n(o),a=n(6812),s=n.n(a);function c(e){var t=i()(e.time),n=e.edit?i()(e.edit):null,o=n&&!n.isSame(t);return e.compact&&(o=!1),e.compact?(0,r.jsxs)("span",{className:s().timestamp,children:[t.fromNow()," ",o?"(edited)":""]}):e.dummy?(0,r.jsx)("span",{className:s().timestamp,children:"not yet created"}):(0,r.jsxs)("span",{className:s().timestamp,children:["created ",t.fromNow()," ",o&&"\uff0d edited "+n.fromNow()]})}},4260:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var r,o,i=n(5893),a=n(7294);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var c=function(e){return a.createElement("svg",s({width:443.679,height:521.235,viewBox:"0 0 117.39 137.91",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor"},e),r||(r=a.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:25.665},a.createElement("path",{d:"M58.705 124.895V13.015M58.705 13.015L12.97 58.75M58.705 13.015L104.44 58.75"}))),o||(o=a.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:25.665},a.createElement("path",{d:"M188.341 13.023v111.88M188.341 124.903l45.735-45.735M188.341 124.903l-45.735-45.735"}))))};var u=n(6812),l=n.n(u),d=n(985);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){var t=function(t){console.log("clicked"),e.dummy||(!function(t){console.log("vote commited");var r="true";0===t&&(r="null"),-1===t&&(r="false"),m.post("/entity/".concat(e.id,"/vote"),{value:r}).then((function(e){s(n(e.data))})).catch((function(e){console.log(e),"Request not authorized"==e&&(y(0),f.toggleModal())}))}(t),y((function(e){return e!==t?t:0})))},n=function(t){return e.dummy?0:t[0]?(t[0].upvotes||0)-(t[0].downvotes||0):0},r=(0,a.useState)(e.up-e.down),o=r[0],s=r[1],u=p((0,d.j)(),2),f=u[0],m=u[1],h=0;"boolean"===typeof e.my&&(h=!0===e.my?1:-1);var v=(0,a.useState)(h),_=v[0],y=v[1];return(0,a.useEffect)((function(){y(h)}),[h]),(0,i.jsxs)("div",{className:e.small?l().voteSmall:l().vote,children:[(0,i.jsx)(c,{onClick:function(e){t(1),e.stopPropagation()},className:l().upvote,"data-active":1===_}),(0,i.jsx)("div",{children:(0,i.jsx)("span",{children:e.dummy?"N/A":o})}),(0,i.jsx)(c,{onClick:function(e){t(-1),e.stopPropagation()},className:l().downvote,"data-active":-1===_})]})}},5560:function(e,t,n){"use strict";n.d(t,{l:function(){return g},k:function(){return j}});var r=n(7294),o=n(9669),i=n.n(o),a=n(6301),s=n(985),c=n(4051),u=n.n(c);function l(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))}}var f=0;function p(){return p=d(u().mark((function e(t){var n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:19,!(++f>=n)){e.next=6;break}return e.next=5,m(1e3);case 5:f>=n&&(f-=n);case 6:return e.next=8,t();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return(h=d(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e()}),t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){s=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y={},x={};function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,n=(0,r.useState)([]),o=n[0],s=n[1],c=(0,r.useState)(!1),u=c[0],l=c[1],d=t.del!==x.del||t.order!==x.order||t.oDir!==x.odir;return x=t,(0,r.useEffect)((function(){d&&l(!1),i().get(a.J+"/post?deleted=".concat(t.del||"exclude","&limit=").concat(t.lim||10,"&offset=").concat(t.off||0,"&order=").concat(t.order||"time","&orderDir=").concat(t.oDir||"DESC")).then((function(e){s((function(n){if(!Array.isArray(e.data))return n;if(d)return e.data;e.data.length<(t.lim||10)&&l(!0);for(var r=[],o=0,i=0;o<e.data.length||i<n.length;)e.data[o]==n[i]?(r.push(n[i]),i++,o++):i<n.length?(r.push(n[i]),i++):(r.push(e.data[o]),o++);return r}))})).catch((function(){}))}),[e,t]),[o,u]}var b={};function j(e,t){var n=(0,r.useState)([]),o=n[0],c=n[1],u=_((0,s.j)(),2),l=u[0],d=u[1],f=(0,r.useState)({ac:-1,ids:e,rerender:.5}),m=f[0],h=f[1];return console.log("RERENDER : "+t),(0,r.useEffect)((function(){if(l.active!==m.ac||JSON.stringify(m.ids)!==JSON.stringify(e)||m.rerender!==t){h({ac:l.active,ids:e,rerender:t});var n=i();l.users[l.active]&&(n=d);var r=e.map((function(e){return b[e]&&t!==e?(console.log("using cache for post "+e),Promise.resolve({data:b[e]})):function(e){return p.apply(this,arguments)}((function(){return n.get(a.J+"/post/"+e).catch((function(e){if(e.response&&429==e.response.statusCode)return{ratelimited:!0}}))}))}));Promise.all(r).then((function(e){c(e.map((function(e){return b[e.data.entity.id]=e.data,e.data})))})).catch((function(e){console.log(e),c([])}))}}),[e,l,d,m,t]),console.log(o),o}},5946:function(e){e.exports={commentSection:"commentSection_commentSection__WDv_p",commentSectionWrap:"commentSection_commentSectionWrap__v2Bso",enter:"commentSection_enter__yv7qT",enterActive:"commentSection_enterActive__nnQuc",enterDone:"commentSection_enterDone__VyFC8",exit:"commentSection_exit__9yc_h",exitActive:"commentSection_exitActive__hmVfA"}},6812:function(e){e.exports={card:"post_card__wHtJD",postForm:"post_postForm__W68bG",animCard:"post_animCard__NoZB1",post:"post_post__OCrrm",userEntry:"post_userEntry__x99ug",fallbackImg:"post_fallbackImg__BBL90",cardEntrance:"post_cardEntrance___KL_6",entering:"post_entering__XWfI5",cardboardEntrance:"post_cardboardEntrance__EvaWN",list:"post_list__aGbOv",userList:"post_userList__Ec1Sn",fabulous:"post_fabulous__4qWia",scroll:"post_scroll__Iqsga",centerAbsolute:"post_centerAbsolute__kK1JX",wrong:"post_wrong__6lXpG",redflash:"post_redflash__sa4K5",body:"post_body__GQDgC",pic:"post_pic__3OlGN",postEmbed:"post_postEmbed__153PH",postT:"post_postT__BbreO",content:"post_content__mwHEJ",head:"post_head__roG5v",title:"post_title__J2O_Z",author:"post_author__7Io6v",comments:"post_comments__TiIen",comStateInd:"post_comStateInd__TT4wE",postWrapper:"post_postWrapper__c1ZzL",postScronch:"post_postScronch__n4pWZ",scronch:"post_scronch__EhyfH",comment:"post_comment__lghEa",timestamp:"post_timestamp__tC2cP",commentWrap:"post_commentWrap__7xJl3",threadindent:"post_threadindent__F6p1f",indents:"post_indents__wC1o_",indentVote:"post_indentVote__0NuKG",vote:"post_vote__P9PQj",voteSmall:"post_voteSmall__PBCVg",upvote:"post_upvote__qZ_e7",downvote:"post_downvote__zDo7G",expandDialog:"post_expandDialog__esFzj",triggered:"post_triggered__8LEcp"}},3200:function(e){e.exports={card:"postList_card__Lu4RP",postPicker:"postList_postPicker__K6Xe5",animCard:"postList_animCard__NqmhF",fallbackImg:"postList_fallbackImg__xxTz5",cardEntrance:"postList_cardEntrance__n75pV",entering:"postList_entering__JJX_W",cardboardEntrance:"postList_cardboardEntrance__NnWkS",list:"postList_list__EC7j8",postList:"postList_postList__lomwB",fabulous:"postList_fabulous__XMSOZ",scroll:"postList_scroll__ZG9Qk",centerAbsolute:"postList_centerAbsolute__8Puc1",wrong:"postList_wrong__gwJBK",redflash:"postList_redflash___D9O4",form:"postList_form__1rEqn",registerForm:"postList_registerForm__kyLmB",formElements:"postList_formElements__jLLAt",cancelButton:"postList_cancelButton__D4tJh",accountFormWrap:"postList_accountFormWrap__nk6ou",usernameHighlight:"postList_usernameHighlight__SuPE_",removeButton:"postList_removeButton__aJQ7Y",clicked:"postList_clicked__FVCP_",accountFormsAlign:"postList_accountFormsAlign__z6igt",tabWrapper:"postList_tabWrapper__dq2d9",tabBar:"postList_tabBar__ED8hL",tab:"postList_tab__IV1v6",brandButton:"postList_brandButton__SafXu",baseButton:"postList_baseButton___25vI",loadButton:"postList_loadButton__MljJo",destructiveButton:"postList_destructiveButton__htzL9",postButton:"postList_postButton__0GSIs",submitButton:"postList_submitButton__0j6aK",dull:"postList_dull__hLWyV",jumping:"postList_jumping__FKdDV",rotating:"postList_rotating__fJcjf",frederickDialog:"postList_frederickDialog__DJ1B8",frederick:"postList_frederick__v7T2M"}}}]);