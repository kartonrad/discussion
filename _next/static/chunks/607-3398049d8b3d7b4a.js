(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[607],{5193:function(t,e,n){"use strict";n.d(e,{s:function(){return f}});var r=n(4051),o=n.n(r),a=n(5893),c=n(985),s=n(7294),i=n(5669),u=n.n(i);function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e,n,r,o,a,c){try{var s=t[a](c),i=s.value}catch(u){return void n(u)}s.done?e(i):Promise.resolve(i).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){m(a,r,o,c,s,"next",t)}function s(t){m(a,r,o,c,s,"throw",t)}c(void 0)}))}}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a=[],c=!0,s=!1;try{for(n=n.call(t);!(c=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);c=!0);}catch(i){s=!0,o=i}finally{try{c||null==n.return||n.return()}finally{if(s)throw o}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(0,n(106).Z)({anchor:!1,embeds:!0,supressHeadings:!0});var _=100;function f(t){var e=function(t){switch(t.target.name){case"title":return g(t.target.value);case"text":return S(P.current.scrollHeight),b(t.target.value)}},n=p((0,c.j)(),2),r=n[0],i=n[1],l=r.users[r.active],m=(0,s.useState)(t.title||""),f=m[0],g=m[1],v=(0,s.useState)(t.text||""),y=v[0],b=v[1],w=(0,s.useState)(!1),x=w[0],k=w[1],F=(0,s.useState)(!1),j=F[0],C=F[1],A=(0,s.useState)(t.comment?"4em":"8em"),B=A[0],S=A[1],P=(0,s.useRef)();function N(){return(N=d(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),k(!0),e.next=4,h(1e3);case 4:if(console.log("Title:",f),console.log("Text:",y),l){e.next=9;break}return k(!1),e.abrupt("return",r.toggleModal());case 9:if(!t.edit){e.next=16;break}return e.next=12,t.onEdit(y);case 12:return e.sent||C(!0),k(!1),e.abrupt("return");case 16:f.length>=1&&f.length<=_||t.comment?i.post(t.comment?"/comment/".concat(t.comment):"/post/",{title:f,text:y}).then((function(e){t.close&&t.close(),t.rerender&&t.rerender(e.data.entityId||e.data.id),k(!1)})).catch((function(e){console.log(e),t.rerender&&t.rerender(),k(!1)})):(k(!1),t.rerender&&t.rerender());case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log(x),(0,s.useEffect)((function(){P&&P.current&&S((function(t){return P.current.scrollHeight}))}),[P]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{onSubmit:function(t){return N.apply(this,arguments)},className:u().postForm,children:[!t.comment&&(0,a.jsxs)("div",{className:u().titleCounter,"data-invalid":f.length<1||f.length>_,children:[(0,a.jsx)("input",{type:"text",className:u().title,value:f,onChange:e,name:"title",placeholder:"The post's title",autoComplete:"off",disabled:x||t.edit||t.locked}),(0,a.jsxs)("p",{children:[f.length,"/",_]})]}),(0,a.jsx)("textarea",{name:"text",value:y,onChange:e,placeholder:t.locked?"LOCKED, bitch":"Go ahead, unleash your creative Genius!",rows:t.comment?"2":"4",autoComplete:"off",disabled:x||t.locked,ref:P,style:{height:B+3+"px"}}),(0,a.jsx)("div",{className:"".concat(u().postButton," ").concat(t.locked&&u().dull),children:(0,a.jsx)("button",{type:"submit",value:t.cta||"Post!","data-known":!Boolean(l),disabled:x||t.locked,children:t.locked?"HAHA NO":t.cta||"Post!"})}),t.edit&&(0,a.jsx)("button",{className:u().cancelButton,value:"Cancel",disabled:x,onClick:function(){t.onEdit(null,!0)},children:"Cancel"}),(0,a.jsxs)("div",{className:u().author,children:["as",(0,a.jsx)("span",{"data-known":Boolean(l),children:l?l.username:"<UNKNOWN>"}),j&&(0,a.jsx)("i",{style:{color:"red",marginLeft:"2em"},children:"(an error occured)"})]})]})})}function h(t){return new Promise((function(e){setTimeout(e,t)}))}},8546:function(t,e,n){"use strict";n.d(e,{X:function(){return u},x:function(){return l}});var r=n(5893),o=n(344),a=n(9589),c=n.n(a),s=n(7294),i=n(4916),u=(0,s.createContext)({});function l(t){var e=function(){l(!1)},n=(0,s.useState)(!1),a=n[0],l=n[1],m=(0,s.useState)([0,0]),d=m[0],p=m[1],_=(0,s.useState)([(0,r.jsx)(o.hP,{text:"Dark Theme"}),(0,r.jsx)("hr",{}),(0,r.jsx)(o.hP,{text:"Privacy Policy"})]),f=_[0],h=_[1];if(a)var g={left:"min( calc( 100vw - 205px ),   "+d[0]+"px  )",top:"min( calc( 100vh + "+document.body.scrollHeight+"px - 205px ),   "+d[1]+"px  )",display:a?"block":"none"};var v=f.map((function(t,e){return s.cloneElement(t,{key:e})}));return(0,r.jsxs)("div",{style:t.style,children:[(0,r.jsx)(u.Provider,{value:{openMenu:function(t,e,n){n&&(l(!0),p([t,e]),h(n))},removeMenu:e},children:t.children}),(0,r.jsx)(i.i,{className:c().menuMover,component:"div",onClickOutside:function(){e()},style:g,children:a&&(0,r.jsx)(o.Lt,{small:!0,children:v})})]})}},106:function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var r=n(7084),o=n.n(r),a=n(9410),c=n.n(a),s=n(9238),i=n.n(s);function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a=[],c=!0,s=!1;try{for(n=n.call(t);!(c=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);c=!0);}catch(i){s=!0,o=i}finally{try{c||null==n.return||n.return()}finally{if(s)throw o}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t){var e=t.anchor,n=void 0===e||e,r=t.embeds,a=void 0===r||r,s=t.supressHeadings,u=void 0!==s&&s,m=new(o().Renderer);console.log("Configure markdown: "+a);var d={};return n&&(d.heading=function(t,e){var n=t.toLowerCase().replace(/[^\w]+/g,"-");return"\n    <h".concat(e,' id="').concat(n,'">\n    ').concat(t,"\n    <a class=").concat(c().anchor,' href="#').concat(n,'">\n        <span class="header-link">#</span>\n    </a>\n    </h').concat(e,">")}),a&&(d.link=function(t,e,n){var r=m.link(t,e,n),o=(n=t!==n,t.match(/(?:^(https?:\/\/www\.youtube\.com\/watch\?v=)|^(https?:\/\/youtu\.be\/))([^"&?\/\s]{11})/g)),a=t.match(/(https?:\/\/open\.spotify\.com\/)((playlist)|(track)|(artist)|(album)|(show)|(episode))\/[^"&?\/\s]*/g),s=t.match(/(https?:\/\/)(api\.)?soundcloud.com\/((((playlists)|(tracks))\/\d*)|([^"&?\s]*))/g),i=t.match(/https?:\/\/(www\.)?instagram\.com\/p\/[^"&?\/\s]*/g);if(o&&o[0]){var u=t.match(/[&?;]t=\d*/g);u=u?u[0].substring(3):void 0;var d=o[0].match(/([^"&?\/\s]{11}$)/g)[0];return'<p>\n        <div class="'.concat(c().embed," ").concat(c().youtube,'">\n            ').concat(n?r:"",'\n            <iframe src="https://www.youtube-nocookie.com/embed/').concat(d,"/?start=").concat(u,'" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy">\n            ').concat(t,"</iframe>\n        </div><p>")}if(a&&a[0]){var p=l(a[0].split("/"),5),_=(p[0],p[1],p[2]),f=p[3],h=p[4],g=300;return"show"!==f&&"episode"!==f||(g=152),"track"===f&&(g=80),'\n        <p>\n            <div class="'.concat(c().embed,'">\n                ').concat(n?r:"",'\n                <iframe src="https://open.spotify.com/embed/').concat(f,"/").concat(h,'" height="').concat(g,'" frameborder="0" allowtransparency="true" allow="encrypted-media" loading="lazy">\n                ').concat(t,"</iframe>\n            </div>\n        <p>")}if(s&&s[0]){_=s[0].replace(":","%3A");return'\n        <p>\n            <div class="'.concat(c().embed,'">\n                ').concat(n?r:"",'\n                <iframe height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=').concat(_,'&color=%23ff5500&auto_play=false&hide_related=false&show_comments=false&show_user=true&show_reposts=false&show_teaser=true&visual=true" loading="lazy"></iframe>\n            </div>\n        <p>')}if(i&&i[0]){var v=l(i[0].split("/"),5);v[0],v[1],_=v[2],f=v[3],h=v[4];return'\n        <p>\n            <div class="'.concat(c().embed," ").concat(c().instagram,'">\n                ').concat(n?r:"",'\n                <iframe src="https://www.instagram.com/p/').concat(h,'/embed" scrolling="no" allowtransparency="true" height="400px" frameborder="0" loading="lazy">\n                ').concat(t,"\n                </iframe>\n            </div>\n        <p>")}return r}),u&&(d.heading=function(t,e){return"\n        <p>\n            <h4>".concat(t,"</h4>\n        </p>")}),function(t){return o().use({renderer:d,smartypants:!0}),i().sanitize(o()(t))}}},9410:function(t){t.exports={document:"document_document__DC4_Y",mdPost:"document_mdPost__VOMOP",markdownModest:"document_markdownModest__kR2ay",embed:"document_embed__P93Hy","modest-no-decoration":"document_modest-no-decoration__Fd7sN","modest-p":"document_modest-p__v_aLv","modest-h1":"document_modest-h1__mLkCF","modest-h2":"document_modest-h2__nV9BB","modest-h3":"document_modest-h3__hi6vS","modest-h4":"document_modest-h4__RoQcV","modest-h5":"document_modest-h5__qXA4o","modest-h6":"document_modest-h6___HOUN","modest-small":"document_modest-small__UW9ed",anchor:"document_anchor__ZkgU1",spoiler:"document_spoiler__dtecA",spoiler2:"document_spoiler2__scM7g",triggered:"document_triggered__kjQYs"}},5669:function(t){t.exports={form:"postForm_form__eCUu_",postForm:"postForm_postForm__iAH9y",registerForm:"postForm_registerForm__w49eY",formElements:"postForm_formElements__mHGkV",cancelButton:"postForm_cancelButton__d335P",accountFormWrap:"postForm_accountFormWrap__Y08XP",usernameHighlight:"postForm_usernameHighlight__M4EP3",removeButton:"postForm_removeButton__gGcjg",clicked:"postForm_clicked__30Hsb",accountFormsAlign:"postForm_accountFormsAlign__SsiIw",tabWrapper:"postForm_tabWrapper__6Eck9",tabBar:"postForm_tabBar__km6yb",tab:"postForm_tab__AKxAQ",brandButton:"postForm_brandButton__muaag",baseButton:"postForm_baseButton__4Y_Fk",destructiveButton:"postForm_destructiveButton__TGzbm",postButton:"postForm_postButton__Ryugw",submitButton:"postForm_submitButton__DkU4N",dull:"postForm_dull__30IQf",jumping:"postForm_jumping__Jf2pS",rotating:"postForm_rotating__oYjd_",title:"postForm_title__06TUu",titleCounter:"postForm_titleCounter__1Uq46",author:"postForm_author__CWxi0"}}}]);