(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"80PL":function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r("q1tI"),a=r.n(n),o=r("8Kt/"),c=r.n(o),i=r("NIcq"),u=r("q9vl"),s=r("40RG"),l=r("SKjy"),d=r("e6a3"),p=r("PmZg"),m=r("Srb5"),b=r("jxK0"),f=r("FCqg"),_=r("ma3e"),h=r("ecW4"),v=a.a.createElement;function O(e){return v(b.d,null,v(c.a,null,v("title",null,e.windowTitle||"Civil Discussion")),v(u.a,null,v(m.a,{style:{backgroundColor:"#181a1b",height:"100vh",width:"100vw"}},v(f.a,{title:e.title,rerenderFunc:e.rerenderFunc||function(){}},v(f.b,{icon:v(_.n,null),drawer:v(h.a,null)}),v(f.b,{icon:v(_.q,null)},v(l.a,null,v(l.b,{leftIcon:v(i.c,null),text:"Account Settings",nextLink:"/discussion/users"}),v(l.b,{leftIcon:v(i.d,null),text:"Switch Acount"},v(s.b,null)),v(d.a,null))),v(f.b,{icon:v(i.c,null)},v(l.a,null,v(l.b,{text:"Privacy Policy",link:"/discussion/privacy"}),v(l.b,{text:"SECRET (dont open!!)"},v(l.b,{text:"lmao",link:"https://www.youtube.com/watch?v=djV11Xbc914"}),v(l.b,{text:"DONT CLICK"},v(l.b,{text:"CIA Database",link:"https://www.youtube.com/watch?v=dQw4w9WgXcQ&autoplay=1"}),v(l.b,{text:"No :o"})))))),v(p.a,null,e.children))))}},"8GKW":function(e,t,r){e.exports={header:"header_header__2DoTL",headerTray:"header_headerTray__eIMO9",headerStart:"header_headerStart__1ifaZ",title:"header_title__Z_484",headerItem:"header_headerItem__2yi4o",headerButton:"header_headerButton__1wdFQ",headerDrawerWrap:"header_headerDrawerWrap__1WN0J",headerDrawer:"header_headerDrawer__1bBTf"}},FCqg:function(e,t,r){"use strict";r.d(t,"a",(function(){return w})),r.d(t,"b",(function(){return g}));var n=r("rePB"),a=r("q1tI"),o=r.n(a),c=r("8GKW"),i=r.n(c),u=r("YuYa"),s=r.n(u);var l=r("B68i"),d=r("SKjy"),p=r("FwEH"),m=r("pQ8y"),b=r("jxK0"),f=r("YFqc"),_=r.n(f),h=o.a.createElement;function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e){var t=Object(a.useState)(-2),r=t[0],n=t[1],c=Object(a.useState)(void 0),u=c[0],l=c[1],d=e.children||[],f=[];Array.isArray(d)||(d=[d]);var v=d.map((function(t,r){return o.a.cloneElement(t,{ref:function(e){return f.push(e)},key:r,addDrawer:(a=r,function(e){l(e),n(a)}),removeDrawer:w(r),currentDrawer:u,rerender:e.rerenderFunc});var a}));function w(e){return function(){l(void 0),n(-2)}}var g=r>-1;return h(o.a.Fragment,null,h("nav",{className:i.a.header},h("div",{className:i.a.headerStart},h(_.a,{href:"/"},h(b.c,{size:40,id:"default",onClick:function(){}})),h("div",{className:i.a.title},e.title)),h("ul",{className:i.a.headerTray},v)),h("div",{style:{paddingTop:"50px"}}),h("div",{className:i.a.headerDrawerWrap},h(p.a,{mode:"out-in"},h(m.a,{classNames:O({},s.a),className:i.a.headerDrawer,timeout:g?500:0,key:r},h("div",null,u)))))}var g=o.a.forwardRef((function(e,t){var r,n=Object(a.useState)(!1),c=n[0],u=n[1],s=Object(a.useState)(!1),p=s[0],m=s[1];"object"===typeof e.children&&(e.children.type.name,d.a.name);return Object(a.useEffect)((function(){e.currentDrawer||m(!1)}),[e.currentDrawer]),e.drawer&&!Array.isArray(e.drawer)&&(r=o.a.cloneElement(e.drawer,{close:e.removeDrawer,rerender:e.rerender})),h(l.a,{className:i.a.headerItem,component:"li",onClickOutside:function(){u(!1)}},h("div",{className:i.a.headerButton,"data-drawer":p,onClick:function(){u(!c),p?e.removeDrawer():e.drawer?(e.addDrawer(r),m(!0)):e.removeDrawer()},ref:t},e.icon&&e.icon),c?h("div",null,e.children):void 0)}))},O1IP:function(e,t,r){e.exports={form:"postForm_form__Oczvn",postForm:"postForm_postForm__eQJ-A",registerForm:"postForm_registerForm__1bmo3",formElements:"postForm_formElements__7Y7_b",baseButton:"postForm_baseButton__3FQfE",brandButton:"postForm_brandButton__CGJdd",accountFormWrap:"postForm_accountFormWrap__138CC",usernameHighlight:"postForm_usernameHighlight__OITtg",removeButton:"postForm_removeButton__5_hKK",clicked:"postForm_clicked__2ebhs",accountFormsAlign:"postForm_accountFormsAlign__2EQp5",tabWrapper:"postForm_tabWrapper__2wp4y",tabBar:"postForm_tabBar__2RJae",tab:"postForm_tab__1A3gY",submitButton:"postForm_submitButton__WO9kK",postButton:"postForm_postButton__1GP0x",destructiveButton:"postForm_destructiveButton__10KJ-",dull:"postForm_dull__1U2Ij",jumping:"postForm_jumping__3WKtO",rotating:"postForm_rotating__1YuS7",title:"postForm_title__3evoo",titleCounter:"postForm_titleCounter__QnXSx",author:"postForm_author__31Fn5"}},Srb5:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return d}));var n=r("q1tI"),a=r.n(n),o=r("SKjy"),c=r("hKBk"),i=r.n(c),u=r("B68i"),s=a.a.createElement,l=Object(n.createContext)({});function d(e){var t=Object(n.useState)(!1),r=t[0],c=t[1],d=Object(n.useState)([0,0]),p=d[0],m=d[1],b=Object(n.useState)([s(o.b,{text:"Dark Theme"}),s("hr",null),s(o.b,{text:"Privacy Policy"})]),f=b[0],_=b[1];if(r)var h={left:"min( calc( 100vw - 205px ),   "+p[0]+"px  )",top:"min( calc( 100vh + "+document.body.scrollHeight+"px - 205px ),   "+p[1]+"px  )",display:r?"block":"none"};function v(){c(!1)}var O=f.map((function(e,t){return a.a.cloneElement(e,{key:t})}));return s("div",{style:e.style},s(l.Provider,{value:{openMenu:function(e,t,r){r&&(c(!0),m([e,t]),_(r))},removeMenu:v}},e.children),s(u.a,{className:i.a.menuMover,component:"div",onClickOutside:function(){v()},style:h},r&&s(o.a,{small:!0},O)))}},YuYa:function(e,t,r){e.exports={enter:"headerDrawer_enter__GMMDV",enterActive:"headerDrawer_enterActive__15s34",exit:"headerDrawer_exit__3VPK0",exitActive:"headerDrawer_exitActive__ZzrzJ"}},e6a3:function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));var n=r("o0o1"),a=r.n(n),o=r("rePB"),c=r("ODXe"),i=r("q1tI"),u=r.n(i),s=r("SKjy"),l=r("ma3e"),d=r("q9vl"),p=r("v0uu"),m=u.a.createElement;function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(){var e=Object(d.b)(),t=Object(c.a)(e,2),r=t[0],n=t[1],o=Object(i.useState)({}),b=o[0],_=o[1],v=r.users[r.active],O=Object(i.useState)(!1);O[0],O[1];Object(i.useEffect)((function(){_(JSON.parse(localStorage.getItem("notifications")||"{}"))}),[]);var w=!!v&&!!b[v.username],g=w?"ON":"OFF";return v||(g="PLS LOG IN"),"undefined"!==typeof Notification&&"denied"===Notification.permission&&(w=!1,g="DENIED"),("undefined"===typeof navigator||!1 in navigator)&&(w=!1,g="UNSUPPORTED"),m(s.b,{onClick:function(){var e,t,o,c,i,u,s;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(e=r.users[r.active],!(!1 in navigator)&&e){l.next=3;break}return l.abrupt("return");case 3:return t=b[e.username],l.next=6,a.a.awrap(navigator.serviceWorker.ready);case 6:return o=l.sent,l.next=9,a.a.awrap(o.pushManager.getSubscription());case 9:if(c=l.sent){l.next=26;break}return l.next=13,a.a.awrap(fetch(p.a+"/notifier/pushSubscriptionKey"));case 13:return i=l.sent,l.next=16,a.a.awrap(i.json());case 16:return u=l.sent,s=h(u.public),l.prev=18,l.next=21,a.a.awrap(o.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:s}));case 21:c=l.sent,l.next=26;break;case 24:l.prev=24,l.t0=l.catch(18);case 26:return l.prev=26,l.next=29,a.a.awrap(n.post("/notifier/".concat(t?"un":"","subscribe"),f({},c.toJSON()),{params:{usersub:!0}}));case 29:_((function(r){var n=f({},r);return n[e.username]=!t,localStorage.setItem("notifications",JSON.stringify(n)),n})),l.next=34;break;case 32:l.prev=32,l.t1=l.catch(26);case 34:case"end":return l.stop()}}),null,null,[[18,24],[26,32]],Promise)},leftIcon:m(l.c,null),text:m(u.a.Fragment,null,"Notifications: ",m("span",{style:{color:w?"lime":"red"}},g))})}function h(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(t),n=new Uint8Array(r.length),a=0;a<r.length;++a)n[a]=r.charCodeAt(a);return n}},ecW4:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var n=r("o0o1"),a=r.n(n),o=r("ODXe"),c=r("q1tI"),i=r.n(c),u=r("q9vl"),s=r("O1IP"),l=r.n(s),d=r("cDhZ"),p=i.a.createElement;Object(d.a)({anchor:!1,embeds:!0,supressHeadings:!0});function m(e){var t=Object(u.b)(),r=Object(o.a)(t,2),n=r[0],s=r[1],d=n.users[n.active],m=Object(c.useState)(e.title||""),f=m[0],_=m[1],h=Object(c.useState)(e.text||""),v=h[0],O=h[1],w=Object(c.useState)(!1),g=w[0],y=w[1],j=Object(c.useState)(!1),x=j[0],F=j[1],S=Object(c.useState)(e.comment?"4em":"8em"),D=S[0],k=S[1],P=Object(c.useRef)();function N(e){switch(e.target.name){case"title":return _(e.target.value);case"text":return k(P.current.scrollHeight),O(e.target.value)}}return console.log(g),Object(c.useEffect)((function(){P&&P.current&&k((function(e){return P.current.scrollHeight}))}),[P]),p(i.a.Fragment,null,p("form",{onSubmit:function(t){return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),y(!0),r.next=4,a.a.awrap(b(1e3));case 4:if(console.log("Title:",f),console.log("Text:",v),d){r.next=9;break}return y(!1),r.abrupt("return",n.toggleModal());case 9:if(!e.edit){r.next=16;break}return r.next=12,a.a.awrap(e.onEdit(v));case 12:return r.sent||F(!0),y(!1),r.abrupt("return");case 16:f.length>=1&&f.length<=150||e.comment?s.post(e.comment?"/comment/".concat(e.comment):"/post/",{title:f,text:v}).then((function(t){e.close&&e.close(),e.rerender&&e.rerender(t.data.entityId||t.data.id),y(!1)})).catch((function(t){console.log(t),e.rerender&&e.rerender(),y(!1)})):(y(!1),e.rerender&&e.rerender());case 17:case"end":return r.stop()}}),null,null,null,Promise)},className:l.a.postForm},!e.comment&&p("div",{className:l.a.titleCounter,"data-invalid":f.length<1||f.length>150},p("input",{type:"text",className:l.a.title,value:f,onChange:N,name:"title",placeholder:"The post's title",autoComplete:"off",disabled:g||e.edit||e.locked}),p("p",null,f.length,"/150")),p("textarea",{name:"text",value:v,onChange:N,placeholder:e.locked?"LOCKED, bitch":"Go ahead, unleash your creative Genius!",rows:e.comment?"2":"4",autoComplete:"off",disabled:g||e.locked,ref:P,style:{height:D+3+"px"}}),p("div",{className:"".concat(l.a.postButton," ").concat(e.locked&&l.a.dull)},p("button",{type:"submit",value:"Post!","data-known":!Boolean(d),disabled:g||e.locked},e.locked?"HAHA NO":"Post!")),e.edit&&p("button",{value:"Cancel",disabled:g,onClick:function(){e.onEdit(null,!0)}},"Cancel"),p("div",{className:l.a.author},"as",p("span",{"data-known":Boolean(d)},d?d.username:"<UNKNOWN>"),x&&p("i",{style:{color:"red",marginLeft:"2em"}},"(an error occured)"))))}function b(e){return new Promise((function(t){setTimeout(t,e)}))}}}]);