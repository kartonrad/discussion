(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"2ru2":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verifymail",function(){return n("R3Ti")}])},JErQ:function(e,t){e.exports="/_next/static/images/firenation-b4068dcc70893d48e15eaca0ecab0512.gif"},R3Ti:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var a=n("o0o1"),r=n.n(a),o=n("q1tI"),s=n.n(o),i=n("v0uu"),u=n("5RVO"),c=n.n(u),l=n("mgzo"),p=n.n(l),h=n("80PL"),d=s.a.createElement;function m(){var e=Object(o.useState)({token:"",action:""}),t=e[0],a=e[1],u=Object(o.useState)(void 0),l=u[0],m=u[1],f=Object(o.useState)(!1),y=f[0],g=f[1];Object(o.useEffect)((function(){var e=new URL(window.location);a({token:e.searchParams.get("token"),action:e.searchParams.get("a")}),history.replaceState(null,"If this shows up in your browser history, contact support@kartonrad.de",e.origin+e.pathname+e.hash)}),[]),console.log(t);var v=t.action;function k(){var e;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return g(!0),a.next=3,r.a.awrap(fetch(i.a+"/verifymail/"+t.action,{method:"post",body:"token="+encodeURIComponent(t.token),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}));case 3:e=a.sent,console.log(e),a.t0=e.status,a.next=200===a.t0?8:422===a.t0?10:401===a.t0?12:403===a.t0?14:500===a.t0?16:18;break;case 8:return m("verify"===v?d("p",null,"DONE \u2705",d("br",null),"You can now close this tab!"):d(s.a.Fragment,null,d("h1",null,"They better be prepared \ud83d\ude08"),d("img",{src:n("JErQ"),alt:"fire nation image",style:{width:"120%"}}),d("p",null,"(In this very moment, their account is being scronched)",d("br",null),"(You can now close this tab)"))),a.abrupt("break",18);case 10:return m(d("p",{style:{whiteSpace:"pre-wrap"}},"There is something wrong here...\nDOn'T play games with me")),a.abrupt("break",18);case 12:return m(d("p",{style:{whiteSpace:"pre-wrap"}},"You're unauthorized to do that...\nEither the token expired,\n the user was already deleted,\n or the token is forged")),a.abrupt("break",18);case 14:return m(d("p",{style:{whiteSpace:"pre-wrap"}},"The User has since changed their email adress,\nOR he has already verified this adress.\n\nYou need to jump through the normal hoops,\nshould you want to delete it. ")),a.abrupt("break",18);case 16:return m(d("p",{style:{whiteSpace:"pre-wrap"}},"Woopsie poopsie there was a server error\nmy bad")),a.abrupt("break",18);case 18:g(!1);case 19:case"end":return a.stop()}}),null,null,null,Promise)}return d(h.a,{title:"Discussion",disablePopup:!0},d("div",{className:c.a.card+" "+p.a.registerForm,style:{flexDirection:"column",padding:"3em",borderRadius:"4em",margin:"auto",width:"max-content"}},l?d("p",{style:{whiteSpace:"pre-wrap"}},l):"verify"===v?d(w,{act:k,l:y}):"delete"===v?d(b,{act:k,l:y}):d("p",null,"Wait a sec..")))}function b(e){return d(s.a.Fragment,null,d("h1",null,"Revenge \ud83d\ude20"),d("p",null,"Someone really commited crimes in your name, huh?",d("br",null),"Do you want to delete their account to clear your name?"),d("p",null,"If not, just close this Tab!"),d("div",{className:p.a.destructiveButton},d("button",{className:p.a.baseButton,onClick:e.act,disabled:e.l},"BURN IT \ud83d\udd25")))}function w(e){return d(s.a.Fragment,null,d("h1",null,"Confirm"),d("p",null,"Just click one more time..."),d("p",null,"If you changed your mind, just close this Tab!"),d("div",{className:p.a.submitButton},d("button",{type:"submit",onClick:e.act,disabled:e.l},"Verify \u2705")))}}},[["2ru2",0,1,3,6,4,2,5,7,8,9,10]]]);