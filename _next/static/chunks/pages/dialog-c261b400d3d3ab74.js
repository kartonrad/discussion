(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{5106:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dialog",function(){return e(1529)}])},1529:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return c}});var o=e(5893),i=e(7294),r=e(1408),s=JSON.parse('{"options":[{"condition":true,"question":"Who are you?","answer":"I am the Weatherman. "},{"condition":true,"question":"Where are we?","answer":"I don\'t know."},{"condition":true,"question":"How\'s the weather??","answer":["Hmpf.","It\'s storming outside. STORMING! The audacity!","damn, i HATE my job."]},{"condition":true,"question":"TEST","answer":{"text":"YES TEST WORKING IDIOT","effect":"yitter","stayInOptions":false,"options":[{"condition":true,"question":"NICE","answer":["IKR!!",{"text":"We could be friends!","options":[{"question":"ACCEPT","answer":"YeSS! We\'re besties !!! :)"},{"question":"DECLINE","answer":"just joking"}]}]},{"condition":true,"question":"WOW FUCK YOU","answer":"bruh fuck urself >:("}]}},{"condition":true,"question":"How are you??","answer":[]}]}'),u=e(3012),a=e.n(u);function c(){return console.log(s),(0,o.jsx)(r.A,{title:"Dialog test",children:(0,o.jsx)(f,{dialog:s})})}function f(n){var t=function(n){console.log("key down"),h.current&&!0!==h.current.keyDwn()||w((function(n){return-1===u?n:n+1}))},e=function(n){c(n),w(0)},r=n.dialog,s=(0,i.useState)(-1),u=s[0],c=s[1],f=(0,i.useState)(0),p=f[0],w=f[1],h=(0,i.useRef)();return(0,o.jsxs)("div",{className:a().dialogBox,onKeyDown:t,onClick:t,tabIndex:"0",children:[-1===u?(0,o.jsx)(d,{dia:r,setOpt:e}):"",-1!==u?(0,o.jsx)(l,{line:r.options[u].answer,idx:p,setOpt:e,ref:h}):""]})}var l=(0,i.forwardRef)((function(n,t){var e=n.line,r=void 0===e?"...":e,s=n.idx,u=n.setOpt,a=function(n){w(n),y(0)},c=null,f=(0,i.useState)(-1),p=f[0],w=f[1],h=(0,i.useState)(0),g=h[0],y=h[1],x=(0,i.useRef)();Array.isArray(r)?(r.length<1&&(r=["..."]),c=r[Math.min(s,r.length-1)]):c=r,(0,i.useImperativeHandle)(t,(function(){return{keyDwn:function(){if(!x.current||!0===x.current.keyDwn()){if(c.options){if(!c.stayInOptions&&-1!==p){var n=c.options[p].answer;if(g>=(Array.isArray(n)?n.length-1:0))return!0}return y((function(n){return-1===p?n:n+1})),!1}return!0}}}}),[c,p,r,g,x]),(0,i.useEffect)((function(){(Array.isArray(r)&&s>=r.length||!Array.isArray(r)&&s>0)&&u&&u(-1)}),[s,r]);var O="object"!==typeof c?c||"...":-1===p?c.text:"";return(0,o.jsxs)(o.Fragment,{children:[O,c.options&&-1===p&&(0,o.jsx)(d,{dia:c,setOpt:a})||-1!==p&&(0,o.jsx)(l,{line:c.options[p].answer,idx:g,setOpt:a,ref:x})]})}));function d(n){var t=n.dia,e=n.setOpt,i=[];return t.options.forEach((function(n,t){i.push((0,o.jsx)("li",{className:a().dialogOption,onClick:function(n){return function(n,t){return"function"===typeof e&&e(n),t.preventDefault(),t.stopPropagation(),!1}(t,n)},children:n.question},t))})),(!t.options||t.options.length<1)&&(i=[(0,o.jsx)("li",{children:"+ There was nothing to say"})]),(0,o.jsx)("ol",{children:i})}},3012:function(n){n.exports={dialogBox:"dialog_dialogBox__QSyeg",dialogOption:"dialog_dialogOption__N92s_"}}},function(n){n.O(0,[445,937,228,249,373,949,607,408,774,888,179],(function(){return t=5106,n(n.s=t);var t}));var t=n.O();_N_E=t}]);